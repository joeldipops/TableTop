<svg
    xmlns="http://www.w3.org/2000/svg"
    width="300"
    height="45000"
>
    <defs>
        <g id="Assassin">
            <circle r="8" fill="black" stroke="black" />
        </g>
        <g id="Bard">
            <circle r="8" fill="yellow" stroke="black" />
        </g>
        <g id="Knight">
            <circle r="8" fill="green" stroke="black" />
        </g>
        <g id="Sorceror">
            <circle r="8" fill="red" stroke="black" />
        </g>
        <g id="Dwarf">
            <circle r="8" fill="blue" stroke="black" />
        </g>

        <g id="Body">
            <rect width="16" height="16" fill="blue" stroke="black" />
        </g>
        <g id="Head">
            <rect width="16" height="16" fill="red" stroke="black" />
        </g>
        <g id="Left-hand">
            <rect width="16" height="16" fill="green" stroke="black" />
        </g>
        <g id="Right-hand">
            <rect width="16" height="16" fill="white" stroke="black" />
        </g>
        <text id="slash" y="14" x="6" font-weight="bold">/</text>
    </defs>
    <style>
      <![CDATA[
.border {
    stroke: #000000;
    fill: #FFFFFF;
    stroke-width: 2px;
}

.head > text:first-child {
    font-size: larger;
    font-weight: bold;
}

text, div {
    font-family: sans-serif;
}

    text.heading {
        text-anchor: middle;
        dominant-baseline: hanging;
    }

    text.centred {
        text-anchor: middle;
        dominant-baseline: middle;
    }

    text.alignLeft {
        text-anchor: start;
        dominant-baseline: hanging;
    }

    text.alignRight {
        text-anchor: end;
        dominant-baseline: hanging;
    }

div {
    font-size: small;
}

.xp-cost {
    font-size: xx-large;
    font-weight: bold;
}

.effects {
    border-style: dotted;
    padding-top: 4px;
}

.effects > div {
    margin-bottom: 16px;
    margin-left: 4px;
    margin-right: 4px;
    line-height: 20px;
    padding-left: 6px;
}

.effects > .action {
    text-indent: -6px;
}

.effects > .simple-effect {
    font-weight: bold;
}

.effect-cost {
    border-width: 2px;
    border-style: solid;
    border-radius: 12px;
    padding: 2px 4px;
}

    .effect-cost strong {
        font-weight: bold;
        font-size: larger;
        margin-left: 2px;
    }

.special-cost > span:first-child {
    font-weight: bold;
    text-decoration: underline;
}

.symbols {
    font-size: larger;
}
      ]]>
    </style>
    {{#each cards}}
    <g
        width="300"
        height="450"
        transform="translate(4, {{this.y}})"
    >
        <rect
            class="border"
            width="292px"
            height="442px"
        />
        <g 
            transform="translate(0, 4)"
            class="head"
        >
            <text
                class="heading"
                x="50%"
            >{{this.name}}</text>
            <text
                class="heading"
                x="50%"
                dy="20"
            >{{this.types}}</text>
        </g>
        <rect
            class="border art"
            x="4"
            y="38"
            width="284"
            height="150"
        />
    <g transform="translate(150, 188)">
        <circle 
                class="border"
                r="24"
            />
        <text class="centred xp-cost" y="2">{{this.cost}}</text>
    </g>
        <g
            class="needs"
            transform="translate(0, 188)"
        >
            <text
                class="alignLeft"
                dy="4"
                x="4"
            >Needs</text>
            <g transform="translate(12, 28)">
            {{#each this.needs}}
                <use href="#{{this.key}}" x="{{this.xOffset}}" />
            {{/each}}
            </g> 
        </g>
        <g
            class="fills"
            transform="translate(292, 188)"
        >
            <text 
                class="alignRight"
                y="8px"
                x="-4"
            >Fills</text>
            <g transform="translate(-22, 24)">
                {{#each this.fills}}
                    <use href="#{{this.key}}" x="{{this.xOffset}}" />
                {{/each}}
            </g>
        </g>
        <g
            class="effects"
            transform="translate(0, 232)"
        >
            <foreignObject
                x="4px"
                width="280px"
                height="200px"
            >
                <div xmlns="http://www.w3.org/1999/xhtml" class="effects">
                {{#each this.effects}}
                {{#if this.isAction}}
                    <div class="action">
                        <span class="effect-cost {{this.costClass}}"><span>{{this.cost}}</span><strong>:</strong></span>
                        <span>{{this.text}}</span>
                    </div>
                {{else}}
                    <div class="{{this.effectClass}}">{{this.text}}</div>
                {{/if}}
                {{/each}}
                </div>
            </foreignObject>
        </g>
    </g>
    {{/each}}
</svg>
